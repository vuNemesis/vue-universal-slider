!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.VueUniversalSlider=e()}(this,function(){"use strict";function t(t,e){return function(){t&&t.apply(this,arguments),e&&e.apply(this,arguments)}}var e=/^(attrs|props|on|nativeOn|class|style|hook)$/,i=function(i){return i.reduce(function(i,s){var n,o,r,l,h;for(r in s)if(n=i[r],o=s[r],n&&e.test(r))if("class"===r&&("string"==typeof n&&(h=n,i[r]=n={},n[h]=!0),"string"==typeof o&&(h=o,s[r]=o={},o[h]=!0)),"on"===r||"nativeOn"===r||"hook"===r)for(l in o)n[l]=t(n[l],o[l]);else if(Array.isArray(n))i[r]=n.concat(o);else if(Array.isArray(o))i[r]=[n].concat(o);else for(l in o)n[l]=o[l];else i[r]=s[r];return i},{})},s={name:"ui-slider-item",props:{item:String,height:Number,index:Number,scopedFunc:Function},data:function(){return{loaded:!0}},computed:{styleItemImage:function(){return{style:{height:this.height+"px"}}}},mounted:function(){var t=this;this.scopedFunc?this.sliderRoot.addItem(this.$el,this.index):this.$refs.image.onload=function(){t.sliderRoot.addItem(t.$el,t.index)}},inject:{sliderRoot:{default:null}},render:function(t){var e=this.scopedFunc&&this.scopedFunc({item:this.item});return t("div",{class:"slider-item",ref:"item"},[e&&e,!e&&t("img",i([{attrs:{src:this.item}},this.styleItemImage,this.classesImage,{ref:"image"}]))])}},n={name:"ui-slider-dots",inject:["sliderRoot"],data:function(){return{slider:this.sliderRoot}},render:function(t){var e=this;return t("div",{class:"slider-dots"},[this.slider.elements.map(function(s,n){return s.offsetLeft+e.slider.left+s.clientWidth/3>=0&&e.slider.sliderWidth-e.slider.left>s.offsetLeft?t("span",{class:"dot red"}):t("span",i([{class:"dot"},{on:{click:function(t){for(var i=arguments.length,s=Array(i>1?i-1:0),o=1;i>o;o++)s[o-1]=arguments[o];e.slider.handleDot.bind(e,n).apply(void 0,[t].concat(s))}}}]))})])}},o=(function(){function t(t){this.value=t}function e(e){function i(t,e){return new Promise(function(i,n){var l={key:t,arg:e,resolve:i,reject:n,next:null};r?r=r.next=l:(o=r=l,s(t,e))})}function s(i,o){try{var r=e[i](o),l=r.value;l instanceof t?Promise.resolve(l.value).then(function(t){s("next",t)},function(t){s("throw",t)}):n(r.done?"return":"normal",r.value)}catch(t){n("throw",t)}}function n(t,e){switch(t){case"return":o.resolve({value:e,done:!0});break;case"throw":o.reject(e);break;default:o.resolve({value:e,done:!1})}o=o.next,o?s(o.key,o.arg):r=null}var o,r;this._invoke=i,"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)}}(),function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}),r=function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);t.length>e;e++)i[e]=t[e];return i}return Array.from(t)},l={name:"ui-slider",props:{items:Array,height:{type:Number,default:100},width:{type:[Number,String],default:"100%"},buttonsPosition:{type:String,default:""},buttonsOutside:Boolean,wheel:Boolean,dots:Boolean,progressTop:Boolean,progressBottom:Boolean},data:function(){return{countElements:0,elements:[],itemsData:null,cols:7,step:1,left:0,loopTimer:null,isLoading:!0,sliderWidth:0,itemsWidth:0}},provide:function(){return{sliderRoot:this}},created:function(){!this.items&&this.$slots.default?(this.itemsData=this.$slots.default.filter(function(t){return t.componentOptions&&"ui-slider-item"===t.componentOptions.tag}).map(function(t){return t.componentOptions.propsData.item}),this.countItems=this.itemsData.length):(this.itemsData=[].concat(r(this.items.map(function(t){return t}))),this.countItems=this.itemsData.length)},methods:{addItem:function(t,e){var i=this;this.$set(this.elements,e,t),this.countItems&&this.countItems===this.elements.length&&this.elements.every(function(t){return!!t})&&(this.sliderWidth=this.$refs.slider.clientWidth,this.itemsWidth=this.elements.reduce(function(t,e,i,s){return t+e.clientWidth},0),this.$nextTick(function(){i.isLoading=!1}))},handleLeft:function(){var t=this,e=[].concat(r(this.elements)).reverse().find(function(e){return e.offsetLeft+e.clientWidth/2<=Math.abs(t.left)}),i=e?Math.abs(e.offsetLeft+this.left):null;i&&(this.left=this.left+i)},handleRight:function(){var t=this,e=this.elements.find(function(e){return e.offsetLeft+e.clientWidth/2>=Math.abs(t.left-t.sliderWidth)}),i=e?e.offsetLeft+e.clientWidth-this.sliderWidth+this.left:null;i&&(this.left=this.left-i)},handleDot:function(t){var e=this.elements[t];this.left=e.offsetLeft<Math.abs(this.left)?-1*e.offsetLeft:this.sliderWidth-(e.offsetLeft+e.clientWidth)},handleScroll:function(t){this.wheel&&(t.preventDefault(),0>t.wheelDelta?this.handleRight():this.handleLeft())}},computed:{progressVisible:function(){return this.progressTop||this.progressBottom},progressPercent:function(){return Math.round(100*(this.sliderWidth+Math.abs(this.left))/this.itemsWidth)},visibleLeftButton:function(){return 0>this.left},visibleRightButton:function(){return Math.abs(this.left)+this.sliderWidth<this.itemsWidth},styleSlider:function(){return{style:{height:("bottom"!==this.buttonsPosition&&"top"!==this.buttonsPosition||!this.buttonsOutside||!this.nextLeft&&!this.nextRight?this.height:this.height+50)+"px",width:"number"==typeof this.width?this.width+"px":this.width,paddingBottom:"bottom"===this.buttonsPosition&&this.buttonsOutside&&(this.nextLeft||this.nextRight)?"50px":0,paddingTop:"top"===this.buttonsPosition&&this.buttonsOutside&&(this.nextLeft||this.nextRight)?"50px":0,paddingLeft:!this.buttonsPosition&&this.buttonsOutside?"50px":0,paddingRight:!this.buttonsPosition&&this.buttonsOutside?"50px":0}}},styleContent:function(){return{style:{left:this.left+"px"}}},styleProgress:function(){return{style:{width:this.progressPercent+"%"}}}},render:function(t){var e=this,r=void 0,l=this.$vnode.data.scopedSlots&&this.$vnode.data.scopedSlots.default&&this.$vnode.data.scopedSlots.default;r=this.itemsData.map(function(i,n){return t(s,{attrs:{item:i,height:e.height,index:n,"scoped-func":l},key:n})});var h=this.dots?this.isLoading?null:t(n,null):null,u=this.progressVisible?this.isLoading?null:t("div",o({class:"slider-progress"},"class",["slider-progress",this.progressTop&&"top",this.progressBottom&&"bottom"]),[t("div",i([{class:"slider-progress-bar"},this.styleProgress]))]):null,a=t("div",i([o({class:"slider-button"},"class",["slider-button","bottom"===this.buttonsPosition?"slider-button-bottom-left":"top"===this.buttonsPosition?"slider-button-top-left":"slider-button-left",!this.isLoading&&this.visibleLeftButton&&"visible"]),{on:{click:function(t){for(var i=arguments.length,s=Array(i>1?i-1:0),n=1;i>n;n++)s[n-1]=arguments[n];e.handleLeft.apply(e,[t].concat(s))}}}]),[t("i",{class:"ui big icon left circle arrow"})]),d=t("div",i([o({class:"slider-button"},"class",["slider-button","bottom"===this.buttonsPosition?"slider-button-bottom-right":"top"===this.buttonsPosition?"slider-button-top-right":"slider-button-right",!this.isLoading&&this.visibleRightButton&&"visible"]),{on:{click:function(t){for(var i=arguments.length,s=Array(i>1?i-1:0),n=1;i>n;n++)s[n-1]=arguments[n];e.handleRight.apply(e,[t].concat(s))}}}]),[t("i",{class:"ui big icon right circle arrow"})]);return t("div",null,[t("div",i([{class:"ui slider"},this.styleSlider,{on:{wheel:function(t){for(var i=arguments.length,s=Array(i>1?i-1:0),n=1;i>n;n++)s[n-1]=arguments[n];e.handleScroll.apply(e,[t].concat(s))}}}]),[t("transition",{attrs:{name:"fade"}},[u]),a,d,t("div",{class:"slider-content",ref:"slider"},[t("div",i([{class:"slider-items"},this.styleContent]),[r])]),t("transition",{attrs:{name:"fade"}},[h])])])}},h={};return h.install=function(t){t.component("ui-slider",l),t.component("ui-slider-item",s)},h.Slider=l,h.SliderItem=s,"undefined"!=typeof window&&window.Vue&&window.Vue.use(h),h});
