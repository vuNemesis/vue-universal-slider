{"version":3,"file":null,"sources":["../node_modules/babel-helper-vue-jsx-merge-props/index.js","../src/slider-item-image.jsx","../src/slider-item.js","../src/slider-dots.js","../src/slider.js","../src/index.js"],"sourcesContent":["var nestRE = /^(attrs|props|on|nativeOn|class|style|hook)$/\n\nmodule.exports = function mergeJSXProps (objs) {\n  return objs.reduce(function (a, b) {\n    var aa, bb, key, nestedKey, temp\n    for (key in b) {\n      aa = a[key]\n      bb = b[key]\n      if (aa && nestRE.test(key)) {\n        // normalize class\n        if (key === 'class') {\n          if (typeof aa === 'string') {\n            temp = aa\n            a[key] = aa = {}\n            aa[temp] = true\n          }\n          if (typeof bb === 'string') {\n            temp = bb\n            b[key] = bb = {}\n            bb[temp] = true\n          }\n        }\n        if (key === 'on' || key === 'nativeOn' || key === 'hook') {\n          // merge functions\n          for (nestedKey in bb) {\n            aa[nestedKey] = mergeFn(aa[nestedKey], bb[nestedKey])\n          }\n        } else if (Array.isArray(aa)) {\n          a[key] = aa.concat(bb)\n        } else if (Array.isArray(bb)) {\n          a[key] = [aa].concat(bb)\n        } else {\n          for (nestedKey in bb) {\n            aa[nestedKey] = bb[nestedKey]\n          }\n        }\n      } else {\n        a[key] = b[key]\n      }\n    }\n    return a\n  }, {})\n}\n\nfunction mergeFn (a, b) {\n  return function () {\n    a && a.apply(this, arguments)\n    b && b.apply(this, arguments)\n  }\n}\n","const Component = {\n  name: 'ui-slider-item-image',\n  props: {\n    item: String,\n    height: Number,\n    index: Number\n  },\n  data() {\n    return {\n      loaded: true\n    }\n  },\n  computed: {\n    styleItemImage() {\n      return {\n        style: {\n          height: this.height + 'px'\n        }\n      }\n    },\n    classesImage() {\n      return {\n        class: [\n          // this.loaded && 'hide'\n        ]\n      }\n    }\n  },\n  mounted() {\n    this.$refs.image.onload = () => {\n      // this.loaded = false\n      // this.$nextTick(() => {\n        this.sliderRoot.addItem(this.$el, this.index)\n      // })\n    }\n    // console.log('mounted:', this.index)\n    // let img = new Image();\n    // img.onload = () => {\n    //     this.loaded = true\n    //     this.$nextTick(() => {\n    //       this.sliderRoot.addItem(this.$el, this.index)\n    //     })\n    // };\n    // img.src = this.item\n  },\n  inject: {\n    sliderRoot: {default: null}\n  },\n  render(h) {\n    return (\n      <div class=\"slider-item\">\n        <img src={this.item} {...this.styleItemImage}  {...this.classesImage} ref=\"image\"/>\n      </div>\n    )\n  }\n}\n\nexport default Component;","export default {\n  name: 'ui-slider-item',\n  props: {\n    item: String,\n    height: Number,\n    index: Number,\n    scopedFunc: Function\n  },\n  data() {\n    return {\n      loaded: true\n    }\n  },\n  computed: {\n    styleItemImage() {\n      return {\n          height: this.height + 'px',\n          // width: this.sliderRoot.width + 'px'\n      }\n    }\n  },\n  mounted() {\n    if(this.scopedFunc) {\n      // this.$refs.image.elm.onload = () => {\n          this.sliderRoot.addItem(this.$el, this.index)\n        // }\n    } else {\n      this.$refs.image.onload = () => {\n          this.sliderRoot.addItem(this.$el, this.index)\n        }\n    }\n  },\n  inject: {\n    sliderRoot: {default: null}\n  },\n  render(h) {\n    const img = this.scopedFunc && this.scopedFunc({item: this.item})\n    return h('div', { class: 'vu-slider__content-item',  ref: 'item' }, [\n        img && h(img),\n        !img && h('img', { attrs: { src: this.item }, style: this.styleItemImage, ref: 'image'})\n      ])\n  }\n}\n\n","export default {\n  name: 'ui-slider-dots',\n  functional: true,\n  inject: {\n    sliderRoot: {default: null}\n  },\n  render(h, { injections }) {\n    const { sliderRoot } = injections\n    return h('div', { class: 'vu-slider__dots', style: sliderRoot.styleDots }, [\n      sliderRoot.elements.map((item, index) => {\n        return (item.offsetLeft + sliderRoot.left + item.clientWidth/3) >= 0 && (item.offsetLeft + item.clientWidth - item.clientWidth/3) <= (sliderRoot.sliderWidth + Math.abs(sliderRoot.left))\n          ? h('span', { class: 'vu-slider__dot vu-slider__dot_active' })\n          : h('span', { class: 'vu-slider__dot',  on: { click: sliderRoot.handleDot.bind(this, index)}})\n      })\n    ])\n  }\n}\n","import './style.scss'\nimport SliderItemImage from './slider-item-image.jsx'\nimport SliderItem from './slider-item.js'\nimport SliderDots from './slider-dots.js'\nexport default {\n  name: 'ui-slider',\n  components: { SliderDots, SliderItem, SliderItemImage },\n  props: {\n    items: Array,\n    height: {\n      type: Number,\n      default: 100\n    },\n    width: {\n      type: [Number, String],\n      default: '100%'\n    },\n    buttonsOutside: Boolean,\n    wheel: Boolean,\n    dots: {\n      type: String,\n      default: '',\n      validator: val => !val || val.match(/^(top|bottom)$/)\n    },\n    dotsInside: {\n      type: Boolean,\n      default: false\n    },\n    progress: {\n      type: String,\n      default: '',\n      validator: val => !val || val.match(/^(top|bottom)$/)\n    },\n  },\n  data() {\n    return {\n      countItems: 0,\n      itemsData: [],\n      elements: [],\n      cols: 7,\n      step: 1,\n      left: 0,\n      loopTimer: null,\n      isLoading: true,\n      sliderWidth: 0,\n      itemsWidth: 0\n    }\n  },\n   provide() {\n    return {\n      sliderRoot: this\n    }\n  },\n  mounted() {\n    // if(this.$vnode.data.scopedSlots && this.$vnode.data.scopedSlots.default) console.dir(this.$vnode.data.scopedSlots.default({image: 'test'}))\n    if(!this.items && this.$slots.default) {\n      this.itemsData = this.$slots.default.filter(item => {\n        return (item.componentOptions && item.componentOptions.tag === 'ui-slider-item')\n      }).map(item => item.componentOptions.propsData.item)\n      this.countItems = this.itemsData.length\n    } else {\n      this.itemsData = [...this.items.map(item => item)]\n      this.countItems = this.itemsData.length\n    }\n  },\n  methods: {\n    addItem(el, index) {\n      this.$set(this.elements, index, el)\n      if(this.countItems) {\n        if(this.countItems === this.elements.length && this.elements.every(el => !!el)) {\n          this.sliderWidth = this.$refs.slider.clientWidth\n          this.itemsWidth = this.elements.reduce(function(previousValue, currentValue) {\n            return previousValue + currentValue.clientWidth;\n          }, 0);\n          this.$nextTick(() => {\n            this.isLoading = false\n          })\n        }\n      } \n    },\n    handleLeft() {\n      let next = [...this.elements].reverse().find(ref => {\n         return (ref.offsetLeft + ref.clientWidth/2) <= Math.abs(this.left) \n      })\n      let x = next ? Math.abs(next.offsetLeft + this.left) : null\n      if(x) this.left = this.left + x\n    },\n    handleRight() {\n      let next = this.elements.find(ref => {\n        return (ref.offsetLeft + ref.clientWidth/2) >= Math.abs(this.left - this.sliderWidth)\n      })\n      let x = next ? next.offsetLeft  + next.clientWidth - this.sliderWidth + this.left : null\n      if(x) this.left = this.left - x\n    },\n    handleDot(index) {\n      const item = this.elements[index]\n      if(item.offsetLeft < Math.abs(this.left)) {\n        this.left = -item.offsetLeft\n      } else {\n        this.left = this.sliderWidth - (item.offsetLeft + item.clientWidth)\n      }\n    },\n    handleScroll(e) {\n      if(!this.wheel) return\n          e.preventDefault();\n          if(e.wheelDelta < 0) {\n            this.handleRight()\n          } else {\n            this.handleLeft()\n          }\n        }\n  },\n  computed: {\n    widthSlider() {\n      return typeof this.width === 'number' ? `${this.width}px` : this.width\n    },\n    progressPercent() {\n      return Math.round(((this.sliderWidth + Math.abs(this.left)) * 100) / this.itemsWidth)\n    },\n    visibleLeftButton() {\n      return this.left < 0\n    },\n    visibleRightButton() {\n      return (Math.abs(this.left) + this.sliderWidth) < this.itemsWidth\n    },\n    styleContent() {\n      return {\n        height: this.height + 'px',\n        width: this.widthSlider\n      }\n    },\n    styleContentItems() {\n      return {\n        left: this.left + 'px'\n      }\n    },\n    styleContentWrapper() {\n      return {\n        margin: this.buttonsOutside ? '0 50px' : null\n      }\n    },\n    styleProgress() {\n      return {\n        width: this.progressPercent + '%'\n      }\n    },\n    styleDots() {\n      return {\n        position: this.dotsInside ? 'absolute' : 'relative',\n        top: this.dots === 'top' ? 0 : null,\n        bottom: this.dots === 'bottom' ? 0 : null\n      }\n    }\n  },\n  render(h) {\n    // const directives = [\n    //   { name: 'my-dir', value: 123, modifiers: { abc: true } }\n    // ]\n    const scopedFunc = this.$vnode.data.scopedSlots && this.$vnode.data.scopedSlots.default\n    const items = this.itemsData.map((item, index) => {\n      return h(SliderItem, { \n        props: {\n          item,\n          height: this.height,\n          index,\n          scopedFunc\n        },\n        key: index\n      })\n    })\n\n    const dots = (!this.dots || this.isLoading) ? null : h(SliderDots)\n\n    const progress = (!this.progress || this.isLoading) \n      ? null\n      : (this.progress === 'top' || this.progress === 'bottom') \n        ? h('div', { class: [\n            'vu-slider__progress',\n          ]}, [ h('div', { class: \"vu-slider__progress-bar\", style: this.styleProgress}) ])\n        : null\n\n    const leftArrowIcon = h('svg', {\n      attrs: {\n        width: '16px',\n        height: '30px',\n        viewBox: '0 0 16 30',\n        xmlSpace: 'preserve'\n      }\n    }, [h('polyline', {\n      attrs: {\n        points: '16,30 0,15 16,0'\n      },\n      style: {\n        fill: 'none',\n        stroke: !this.buttonsOutside \n                  ? '#FFFFFF'\n                  : this.visibleLeftButton \n                    ? '#000000'\n                    : 'lightgrey',\n        strokeWidth: '2',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n      }\n    })])\n\n    const rightArrowIcon = h('svg', {\n      attrs: {\n        width: '16px',\n        height: '30px',\n        viewBox: '0 0 16 30',\n        xmlSpace: 'preserve'\n      }\n    }, [h('polyline', {\n      attrs: {\n        points: '0,30 16,15 0,0'\n      },\n      style: {\n        fill: 'none',\n        stroke: !this.buttonsOutside \n                  ? '#FFFFFF'\n                  : this.visibleRightButton \n                    ? '#000000'\n                    : 'lightgrey',\n        strokeWidth: '2',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n      }\n    })])\n\n    const leftButton = h('div', { class: [\n      'vu-slider__button',\n      'vu-slider__button_left',\n      this.buttonsOutside && 'vu-slider__button_outside',\n      !this.visibleLeftButton && 'vu-slider__button_disabled',\n      !this.isLoading && this.visibleLeftButton && 'vu-slider__button_visible'\n    ], on: { click: this.handleLeft }}, [ h('div', { class: \"arrow left\"}, [leftArrowIcon])])\n\n    const rightButton = h('div', {class: [\n      'vu-slider__button',\n      'vu-slider__button_right',\n      this.buttonsOutside && 'vu-slider__button_outside',\n      !this.visibleRightButton && 'vu-slider__button_disabled',\n      !this.isLoading && this.visibleRightButton && 'vu-slider__button_visible'\n    ], on: { click: this.handleRight }}, [ h('div', { class: \"arrow left\"}, [rightArrowIcon])])\n\n    const content = h('div', { class: \"vu-slider__content\", style: this.styleContent}, [\n      leftButton, \n      rightButton, \n      (this.dots === 'top' || this.dots === 'bottom') && this.dotsInside && dots,\n      h('div', { class: 'vu-slider__content-wrapper', style: this.styleContentWrapper, ref: \"slider\" }, [ h('div', {class: \"vu-slider__content-items\", style: this.styleContentItems}, [ items ])])\n    ])\n\n    return h('div', { \n      class: \"vu-slider\", style: { width: this.widthSlider }, on: { wheel: this.handleScroll }\n    }, [\n      this.dots === 'top' && !this.dotsInside && dots,\n      this.progress ==='top' && progress,\n      content,\n      this.progress ==='bottom' && progress,\n      this.dots ==='bottom' && !this.dotsInside && dots\n    ])\n  }\n}\n","import Slider from \"./slider.js\";\nimport SliderItem from \"./slider-item.js\";\n\nconst VueUniversalSlider = {};\n\nVueUniversalSlider.install = (Vue) => {\n  Vue.component(\"vu-slider\", Slider);\n  Vue.component(\"vu-slider-item\", SliderItem);\n}\n\nVueUniversalSlider.Slider = Slider;\nVueUniversalSlider.SliderItem = SliderItem;\n\nif (typeof window !== 'undefined' && window.Vue) {\n  window.Vue.use(VueUniversalSlider);\n}\n\nexport default VueUniversalSlider\n"],"names":["Component","String","Number","height","$refs","image","onload","sliderRoot","addItem","$el","index","default","h","item","styleItemImage","classesImage","Function","scopedFunc","img","class","ref","attrs","src","style","injections","styleDots","elements","map","offsetLeft","left","clientWidth","sliderWidth","Math","abs","on","click","handleDot","bind","SliderDots","SliderItem","SliderItemImage","Array","Boolean","val","match","items","$slots","itemsData","filter","componentOptions","tag","propsData","countItems","length","el","$set","every","slider","itemsWidth","reduce","previousValue","currentValue","$nextTick","isLoading","next","reverse","find","x","e","wheel","preventDefault","wheelDelta","handleRight","handleLeft","width","round","widthSlider","buttonsOutside","progressPercent","dotsInside","dots","$vnode","data","scopedSlots","progress","styleProgress","leftArrowIcon","visibleLeftButton","rightArrowIcon","visibleRightButton","leftButton","rightButton","content","styleContent","styleContentWrapper","styleContentItems","handleScroll","VueUniversalSlider","install","Vue","component","Slider","window","use"],"mappings":"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"}